{
  "publishedAt": "06-29-2025",
  "title": "Sitecore Marketplace - XM Cloud SDK",
  "content": "I﻿n my [previous post](https://guidovtricht.nl/blog/sitecore-marketplace-quickstart) I explained how to get started with a new, Vite based, Sitecore Marketplace App.\\\nI﻿n this post I will show how to install the XM Cloud SDK on top of that.\n\n## Installing the SDK\n\nFirst, install the XM Cloud SDK by running the following command\n\n```powershell\nnpm install @sitecore-marketplace-sdk/xmc\n```\n\nAfter installing the package, we need to update the Client SDK initialization to insert the xmc module.\n\nDo this by adding the 'xmc' module in the ClientSDK.init.\\\nIf you have followed the quick start guide, you will find this in /src/components/UserInfo.tsx near line 24.\\\nMake sure to add an import of XMC to the top of the file.\n\n```typescript\nimport { XMC } from \"@sitecore-marketplace-sdk/xmc\";\n\n...\n\nconst client = await ClientSDK.init({\n  origin,\n  target: window.parent,\n  // Extend Client SDK with the `xmc` package:\n  modules: [XMC],\n});\n```\n\n## Using the XM Cloud APIs\n\nWe will now add a button to our application to retrieve a list of XM Cloud site collections that exist within the context tenant.\n\nMake the following changes to /src/components/UserInfo.tsx\n\nAdd a new state container near line 15.\n\n```typescript\nconst [xmcCollections, setXmcCollections] = useState({});\n```\n\nAdd a function which retrieves a list of collections from the XM Cloud API. Add this underneath the fetchUser method.\nReplace <YOUR_PREVIEW_CONTEXT_ID> with the Preview context ID of your XM Cloud environment.\n\n```typescript\n// Example of XMC request:\nconst fetchXMCCollections = async () => {\n  const collections = await clientRef.current!.query(\n    \"xmc.xmapp.listCollections\",\n    {\n      params: {\n        query: {\n          sitecoreContextId: \"<YOUR_PREVIEW_CONTEXT_ID>\",\n        },\n      },\n    }\n  );\n  console.log(collections);\n  if (collections?.data) setXmcCollections(collections.data);\n};\n```\n\nAdd a button to the response which triggers the new fetchXMCCollections method and displays the results.\\\nReplace the return (...) near line 73 with the following code.\n\n```typescript\nreturn (\n  <>\n    <div>\n      <button onClick={fetchUser}>Get user details</button>\n      <pre>{JSON.stringify(user, null, 2)}</pre>\n    </div>\n    <div>\n      <button onClick={fetchXMCCollections}>Fetch XMC collections</button>\n      <pre>{JSON.stringify(xmcCollections, null, 2)}</pre>\n    </div>\n  </>\n);\n```\n\nNow run your application and test it in the browser. Clicking the button should display a list of site collections that exist in your XM Cloud environment.\n\n![Example response in XM Cloud SDK usage](/images/uploads/sc-marketplace-xmc-example.png)",
  "seoDescription": "In this guide I explain how to install and use the XM Cloud SDK for the Sitecore Marketplace"
}